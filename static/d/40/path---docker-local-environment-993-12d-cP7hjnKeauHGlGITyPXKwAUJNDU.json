{"data":{"site":{"siteMetadata":{"title":"Blog","author":"Atul R"}},"markdownRemark":{"id":"11763dc3-44b6-5734-8350-b587d12d9057","excerpt":"I recently started working at  Anyfin . As a new engineer on the team, I had to setup the entire development environment. Drawing my expectations from my previous work engagements I thought this would‚Ä¶","html":"<p>I recently started working at <a href=\"https://anyfin.com/en\" target=\"_blank\">Anyfin</a>. As a new engineer on the team, I had to setup the entire development environment. Drawing my expectations from my previous work engagements I thought this would take me a couple of days. But to my surprise I had a working setup of quite a few backend services written in NodeJS, Golang and Python along side the web site and portal (Javascript) in ~5hrs.\nThis post will explain on how we use Docker at Anyfin to setup a productive local development environment.</p>\n<p><strong>üëÆüèª‚ÄçCredit disclaimer:üö®</strong> <br/>\nThe entire credit for the setup goes to my colleagues: Kim, Niemi, Asparuh, Pepijn and Sven. I found the setup at Anyfin extremely awesome and hence wanted to share it with everyone.</p>\n<h2>Overview / Basic architecture</h2>\n<p>Lets say we have a set of services that have the following architecture.</p>\n<p><img src=\"/architecture-db724d868a0b5a242feee2678b1c9c04.svg\" alt=\"example architecture\"></p>\n<p>From the diagram we can see we have:</p>\n<ul>\n<li>NJS1 - NodeJS service running on port <strong>7000</strong> and dependent on the database Db1 (running on port <strong>5433</strong>).</li>\n<li>Py1 - Python service running on port <strong>9000</strong> and dependent on the database Db1 (running on port <strong>5433</strong>).</li>\n<li>Go1 - Golang service running on port <strong>5000</strong> and dependent on the database Db1 (running on port <strong>5433</strong>).</li>\n</ul>\n<hr>\n<ul>\n<li>NJS2 - NodeJS service running on port <strong>8000</strong> and dependent on the database Db1 (running on port <strong>5432</strong>).</li>\n<li>Py2 - Python service running on port <strong>3000</strong> and dependent on the database Db1 (running on port <strong>5432</strong>).</li>\n</ul>\n<hr>\n<ul>\n<li>Web - A simple webpack based dev server for frontend running on port <strong>8080</strong>.</li>\n</ul>\n<p><em>PS: We want the services to be exposed on the said ports in the local environment so that they can communicate with each other via those.</em></p>\n<h2>The Problem</h2>\n<ol>\n<li>In order to run all of those services, typically we would open up separate terminal tabs/windows and then run them separately (looks something like this). This is a bit harder to manage as more services grow.</li>\n</ol>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0b1a5d3c267b9065b66bfb6f05578712/e2b4a/example_terminal.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width:100% !important; max-width: 800px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 54.85674353598882%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABu0lEQVQoz2WS667iMAyE+waIy7alhZ+AhACptyRNeoGCeP83mvV4qQ5H+8NK08Sfx+NEfbCojUFVVmiaBkVZwlqL0HVwzmmE0KGTfdsPCMOIQaLve/kf9Jt3jbGS5xCt1imSJMZms8F2u8ViscDxeNQEggnkaqVYfb+j8B5WBHQs8ikUfEBVVSKqRJQkuYLiOEGe51itVjgcDmjbVqoahVF5WRRoRY2R/651GKcevm/Rdk5XF5ycGUR/4kyAqQBjZFmmQCr0ooRAwhhU4EV1Q7WugR9kDTWML8WyUqwqUFblN/BH4el0Un8IrOtaYVTopD3LlgmVMFY6EEtMI/eqWu9GcbITUIY0TbHf79XLb+AMpcpWksdxQE/wlx08n+MXcLfbYb1e43K54Pl8quHDMCicw/EC6ATUG2m5kSICKGUQ3xHFcS7ebWXSPy1fr1e832+FMqZpUk8ZcwEOLXy3/+lEPaS6eSjL5RLn81khTB7Hf2+u03dpdZ33s3LG/CL+mzKBt9sNr9dLk6iQlQkZZf+QlYW4p8r5FRDI4YmHv1smkC0TxKTH46EJnXzfBfQU5dMneMY7/tM6C/8F4WxYqCLBpNAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"example terminal\"\n        title=\"\"\n        src=\"/static/0b1a5d3c267b9065b66bfb6f05578712/b8742/example_terminal.png\"\n        srcset=\"/static/0b1a5d3c267b9065b66bfb6f05578712/0a321/example_terminal.png 200w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/91860/example_terminal.png 400w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/b8742/example_terminal.png 800w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/d1b00/example_terminal.png 1200w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/27d18/example_terminal.png 1600w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/299ac/example_terminal.png 2400w,\n/static/0b1a5d3c267b9065b66bfb6f05578712/e2b4a/example_terminal.png 2862w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n      />\n  </span>\n  </a></p>\n<ol start=\"2\">\n<li>\n<p>Lets say both nodejs services depend on different node versions, then on each of those terminals you ll need to switch node versions manually. Same case with python also.</p>\n</li>\n<li>\n<p>If you need two or more database services running on different ports you ll need to set it up and make sure they are both up manually before running your services.</p>\n</li>\n</ol>","frontmatter":{"title":"üê≥ Simplified guide to using Docker for local development environment","date":"March 06, 2019","keywords":"docker, local, development, environment, guide, javascript","featuredImage":null},"fields":{"slug":"/docker-local-environment/"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docker-local-environment/","previous":{"fields":{"slug":"/rate-limiter/"},"frontmatter":{"title":"üöß An alternative approach to building a simple API Rate limiter using NodeJS and Redis"}},"next":null}}